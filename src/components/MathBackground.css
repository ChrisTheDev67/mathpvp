/* 3D Floating Math Background - Optimized */
.math-background {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    overflow: hidden;
    background: radial-gradient(circle at 50% 50%, #1a1a2e 0%, #16213e 100%);
    perspective: 1000px;
    pointer-events: none;
    /* Hardware acceleration for the container */
    transform: translateZ(0);
}

.math-3d-container {
    position: absolute;
    inset: -100px;
    /* Oversize to prevent popping */
    transform-style: preserve-3d;
}

.math-item {
    position: absolute;
    color: rgba(255, 255, 255, 0.1);
    font-family: 'Inter', sans-serif;
    font-weight: 700;
    user-select: none;

    /* Critical performance optimization */
    will-change: transform, opacity;

    /* Removed expensive text-shadow */
}

/* Depth variants - simplified filters */
.depth-1 {
    z-index: 1;
    opacity: 0.05;
}

.depth-2 {
    z-index: 2;
    opacity: 0.1;
}

.depth-3 {
    z-index: 3;
    opacity: 0.15;
}

.depth-4 {
    z-index: 4;
    opacity: 0.2;
    /* Removed expensive blur and text-shadow */
}

@keyframes float3D {
    0% {
        transform: translate3d(0, 0, 0) rotate3d(1, 1, 1, 0deg);
    }

    25% {
        transform: translate3d(50px, -50px, 50px) rotate3d(1, 1, 1, 90deg);
    }

    50% {
        transform: translate3d(0, -100px, 0) rotate3d(1, 1, 1, 180deg);
    }

    75% {
        transform: translate3d(-50px, -50px, -50px) rotate3d(1, 1, 1, 270deg);
    }

    100% {
        transform: translate3d(0, 0, 0) rotate3d(1, 1, 1, 360deg);
    }
}

/* Gradient Overlay - Removed backdrop-filter */
.math-overlay {
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 15% 50%, rgba(79, 70, 229, 0.12) 0%, transparent 50%),
        radial-gradient(circle at 85% 30%, rgba(236, 72, 153, 0.12) 0%, transparent 50%);
    z-index: 0;
}